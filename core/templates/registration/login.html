{% extends "core/base.html" %}
{% load static %}

{% block content %}
<div style="max-width: 400px; margin: auto; padding: 20px;">
    <h2 style="text-align: center; margin-bottom: 20px;">Connexion</h2>

    {% if form.errors %}
        <div style="color: red; margin-bottom: 15px;">
            Nom d'utilisateur ou mot de passe invalide.
        </div>
    {% endif %}

    <form method="post">
        {% csrf_token %}
        <div>
            <label for="id_username">Nom d'utilisateur :</label>
            {{ form.username }}
        </div>
        <div>
            <label for="id_password">Mot de passe :</label>
            {{ form.password }}
        </div>

        {# Ce champ caché permet de rediriger après connexion #}
        {% if next %}
            <input type="hidden" name="next" value="{{ next }}">
        {% endif %}

        <button type="submit" style="width: 100%; margin-top: 15px;">
            Se connecter
        </button>
    </form>

    <p style="text-align: center; margin-top: 15px;">
        <a href="{% url 'password_reset' %}">Mot de passe oublié ?</a>
    </p>
</div>
{% endblock %}
